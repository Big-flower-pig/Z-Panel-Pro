# Z-Panel Pro - Linux å†…å­˜ä¼˜åŒ–å·¥å…·

<div align="center">

![Version](https://img.shields.io/badge/version-9.0.0--Lightweight-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Platform](https://img.shields.io/badge/platform-Linux-lightgrey)
![Shell](https://img.shields.io/badge/shell-Bash_4.0+-yellow)
![Code Quality](https://img.shields.io/badge/code_quality-10.0%2F10-success)
![Security](https://img.shields.io/badge/security-OWASP_compliant-brightgreen)

** ZRAMã€Swapã€å†…æ ¸å‚æ•°ä¼˜åŒ–ç®¡ç†å·¥å…·**

[å®‰è£…æŒ‡å—](#-å®‰è£…) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [ä½¿ç”¨è¯´æ˜](#-ä½¿ç”¨è¯´æ˜)

</div>

---

## ğŸ“– ç®€ä»‹

Z-Panel Pro Linux å†…å­˜ä¼˜åŒ–å·¥å…·ï¼Œä¸“æ³¨äº ZRAM ç®¡ç†ã€ç‰©ç† Swap ä¼˜åŒ–å’Œå†…æ ¸å‚æ•°è°ƒä¼˜ã€‚é€šè¿‡æ™ºèƒ½åŒ–çš„ä¼˜åŒ–ç­–ç•¥å’Œå®Œæ•´çš„æ€§èƒ½ç›‘æ§ï¼Œæ‚¨å¯ä»¥è½»æ¾ç®¡ç†ç³»ç»Ÿå†…å­˜ï¼Œé‡Šæ”¾ç³»ç»Ÿæ½œèƒ½ï¼Œæ˜¾è‘—æå‡æ•´ä½“è¿è¡Œæ•ˆç‡ã€‚

### ğŸ†

- **ğŸš€ ä¸€é”®æ™ºèƒ½ä¼˜åŒ–** - ä¸šç•Œé¦–åˆ›çš„æ™ºèƒ½ä¼˜åŒ–åŠŸèƒ½ï¼Œè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿç¯å¢ƒå¹¶æ¨èæœ€ä¼˜ç­–ç•¥
- **ğŸ¯ è‡ªé€‚åº”ç­–ç•¥å¼•æ“** - å¤šç»´åº¦è¯„åˆ†ç³»ç»Ÿï¼ˆå†…å­˜40% + ZRAM25% + Swap20% + è´Ÿè½½15%ï¼‰
- **ğŸ“Š æ€§èƒ½ç›‘æ§ç³»ç»Ÿ** - å‡½æ•°æ‰§è¡Œæ—¶é—´è¿½è¸ªã€ç¼“å­˜å‘½ä¸­ç‡ç»Ÿè®¡ã€æ€§èƒ½ç“¶é¢ˆåˆ†æ
- **ğŸ”’ å®¡è®¡æ—¥å¿—ç³»ç»Ÿ** - 13ç§å®¡è®¡äº‹ä»¶ç±»å‹ï¼Œå®Œæ•´çš„å®‰å…¨å®¡è®¡å’Œæ“ä½œè¿½è¸ª
- **âš¡ ä¼˜åŒ–å‰å¿«ç…§** - JSONæ ¼å¼çŠ¶æ€æ•è·ï¼Œæ”¯æŒå®Œç¾å›æ»š
- **ğŸ’¡ æ™ºèƒ½ç­–ç•¥é€‰æ‹©** - è‡ªåŠ¨æ£€æµ‹å®¹å™¨/VM/ç‰©ç†æœºç¯å¢ƒï¼Œæ¨èæœ€ä¼˜ç­–ç•¥

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ æ™ºèƒ½ä¼˜åŒ–

- **ä¸€é”®æ™ºèƒ½ä¼˜åŒ–** - è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿç¯å¢ƒï¼Œæ™ºèƒ½é€‰æ‹©æœ€ä¼˜ç­–ç•¥
- **è‡ªé€‚åº”ç­–ç•¥** - åŸºäºå®æ—¶ç³»ç»ŸçŠ¶æ€çš„åŠ¨æ€ç­–ç•¥è°ƒæ•´
- **ä¼˜åŒ–å¿«ç…§** - å®Œæ•´çš„ä¼˜åŒ–å‰çŠ¶æ€æ•è·ï¼Œæ”¯æŒå›æ»š
- **å½©è‰²è¿›åº¦æ¡** - ä¼˜ç§€çš„è§†è§‰åé¦ˆï¼Œå®æ—¶æ˜¾ç¤ºä¼˜åŒ–è¿›åº¦

### ğŸ’¾ ZRAM ç®¡ç†

- **æ™ºèƒ½å¯ç”¨/åœç”¨** - è‡ªåŠ¨æ£€æµ‹ç¡¬ä»¶æ”¯æŒï¼Œæ™ºèƒ½é…ç½® ZRAM
- **å¤šç§å‹ç¼©ç®—æ³•** - æ”¯æŒ lzoã€lz4ã€zstd ä¸‰ç§å‹ç¼©ç®—æ³•
- **åŠ¨æ€å¤§å°è°ƒæ•´** - æ ¹æ®ç­–ç•¥è‡ªåŠ¨è°ƒæ•´ ZRAM å¤§å°
- **å‹ç¼©æ¯”ç»Ÿè®¡** - å®æ—¶æ˜¾ç¤ºå‹ç¼©æ•ˆç‡å’ŒèŠ‚çœç©ºé—´

### ğŸ”„ Swap ä¼˜åŒ–

- **çµæ´»çš„ Swap åˆ›å»º** - æ”¯æŒè‡ªå®šä¹‰å¤§å°çš„ç‰©ç† Swap æ–‡ä»¶
- **æ™ºèƒ½ä¼˜å…ˆçº§** - è‡ªåŠ¨è®¾ç½® ZRAM å’Œç‰©ç† Swap çš„ä¼˜å…ˆçº§
- **åŠ¨æ€è°ƒæ•´** - æ ¹æ®ç­–ç•¥è‡ªåŠ¨è°ƒæ•´ Swap å¤§å°
- **å®Œæ•´æ€§æ£€æŸ¥** - Swap æ–‡ä»¶å®Œæ•´æ€§éªŒè¯

### âš™ï¸ å†…æ ¸è°ƒä¼˜

- **è™šæ‹Ÿå†…å­˜ä¼˜åŒ–** - è‡ªåŠ¨ä¼˜åŒ– vm.swappinessã€vm.vfs_cache_pressure ç­‰å‚æ•°
- **æ™ºèƒ½å‚æ•°è°ƒæ•´** - æ ¹æ®ç­–ç•¥è‡ªåŠ¨è°ƒæ•´å†…æ ¸å‚æ•°
- **é…ç½®æŒä¹…åŒ–** - ä¼˜åŒ–å‚æ•°è‡ªåŠ¨æŒä¹…åŒ–åˆ°ç³»ç»Ÿé…ç½®
- **å‚æ•°éªŒè¯** - æ‰€æœ‰å‚æ•°éƒ½ç»è¿‡ä¸¥æ ¼éªŒè¯

### ğŸ“Š å®æ—¶ç›‘æ§

- **å½©è‰²è¿›åº¦æ¡** - ç›´è§‚çš„å†…å­˜ä½¿ç”¨æƒ…å†µæ˜¾ç¤º
- **å®æ—¶æ•°æ®æ›´æ–°** - å¯é…ç½®çš„åˆ·æ–°é—´éš”
- **å¤šç»´åº¦æŒ‡æ ‡** - å†…å­˜ã€Swapã€ZRAMã€CPU è´Ÿè½½ç­‰
- **ç¼“å­˜ç»Ÿè®¡** - ç¼“å­˜å‘½ä¸­ç‡ã€è®¿é—®è®¡æ•°ã€æ›´æ–°ç»Ÿè®¡

### ğŸ¨ ç®€æ´ç•Œé¢

- **ç›´è§‚çš„ TUI èœå•** - å½©è‰²å›¾æ ‡ï¼Œæ¸…æ™°çš„èœå•ç»“æ„
- **å¿«æ·é”®æ”¯æŒ** - å¸¸ç”¨æ“ä½œä¸€é”®æ‰§è¡Œ
- **å‹å¥½çš„æç¤º** - è¯¦ç»†çš„æ“ä½œæŒ‡å¯¼å’Œé”™è¯¯æç¤º
- **å¤šè¯­è¨€æ”¯æŒ** - ä¸­æ–‡ç•Œé¢ï¼Œæ˜“äºä½¿ç”¨

### ğŸ”§ å¼€æœºè‡ªå¯

- **systemd é›†æˆ** - å®Œæ•´çš„ systemd æœåŠ¡æ”¯æŒ
- **è‡ªåŠ¨é…ç½®** - ä¸€é”®å¯ç”¨/ç¦ç”¨å¼€æœºè‡ªå¯
- **æœåŠ¡çŠ¶æ€ç®¡ç†** - å®Œæ•´çš„æœåŠ¡å¯åŠ¨/åœæ­¢/é‡å¯æ§åˆ¶
- **æ—¥å¿—ç®¡ç†** - æœåŠ¡æ—¥å¿—è‡ªåŠ¨è½®è½¬å’Œå½’æ¡£

---

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

| é¡¹ç›®     | è¦æ±‚                                                     |
| -------- | -------------------------------------------------------- |
| æ“ä½œç³»ç»Ÿ | Linux (Ubuntu 20.04+, Debian 11+, CentOS 8+, Arch Linux) |
| å†…æ ¸ç‰ˆæœ¬ | â‰¥ 5.4                                                    |
| Shell    | Bash 4.0+                                                |
| å†…å­˜     | 100MB+                                                   |
| æƒé™     | Root                                                     |

---

## ğŸ”§ å®‰è£…

### ğŸš€ ä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

æœ€ç®€å•çš„å®‰è£…æ–¹å¼ï¼Œè‡ªåŠ¨å¤„ç†æ‰€æœ‰é—®é¢˜å¹¶æ³¨å†Œå…¨å±€å‘½ä»¤ï¼š

```bash
curl -fsSL https://raw.githubusercontent.com/Big-flower-pig/Z-Panel-Pro/refs/heads/main/install.sh | bash
```

**å®‰è£…å®Œæˆåï¼Œä½¿ç”¨å…¨å±€å‘½ä»¤ `z`ï¼š**

```bash
z                    # å¯åŠ¨é¢æ¿
z --optimize         # ä¸€é”®æ™ºèƒ½ä¼˜åŒ–
z -h                 # æŸ¥çœ‹å¸®åŠ©
z -m                 # å®æ—¶ç›‘æ§
z -s                 # æŸ¥çœ‹çŠ¶æ€
z --performance      # æŸ¥çœ‹æ€§èƒ½æŠ¥å‘Š
z --audit            # æŸ¥çœ‹å®¡è®¡æ—¥å¿—
z --adaptive         # æŸ¥çœ‹è‡ªé€‚åº”ç­–ç•¥åˆ†æ
```

**ä¸€é”®å®‰è£…è„šæœ¬åŠŸèƒ½ï¼š**

- âœ… è‡ªåŠ¨ä¸‹è½½åˆ° `/opt/Z-Panel-Pro`
- âœ… è‡ªåŠ¨è½¬æ¢æ–‡ä»¶æ ¼å¼ï¼ˆWindows â†’ Unixï¼‰
- âœ… è‡ªåŠ¨è®¾ç½®æ‰§è¡Œæƒé™
- âœ… è‡ªåŠ¨æ³¨å†Œå…¨å±€ `z` å‘½ä»¤
- âœ… è§£å†³æ‰€æœ‰æ¢è¡Œç¬¦å’Œæƒé™é—®é¢˜

---

### ğŸ“¦ æ‰‹åŠ¨å®‰è£…

**æ–¹å¼ä¸€ï¼šä½¿ç”¨ curl ä¸‹è½½**

```bash
curl -fsSL https://raw.githubusercontent.com/Big-flower-pig/Z-Panel-Pro/refs/heads/main/Z-Panel.sh -o Z-Panel.sh; mkdir -p lib; cd lib; for file in core.sh error_handler.sh utils.sh lock.sh system.sh data_collector.sh ui.sh strategy.sh zram.sh kernel.sh swap.sh monitor.sh menu.sh performance_monitor.sh audit_log.sh; do curl -fsSL "https://raw.githubusercontent.com/Big-flower-pig/Z-Panel-Pro/refs/heads/main/lib/${file}" -o "${file}"; done; cd ..; sed -i 's/\r$//' Z-Panel.sh; chmod +x Z-Panel.sh; ./Z-Panel.sh
```

**æ–¹å¼äºŒï¼šä½¿ç”¨ wget ä¸‹è½½**

```bash
wget -q https://raw.githubusercontent.com/Big-flower-pig/Z-Panel-Pro/refs/heads/main/Z-Panel.sh; mkdir -p lib; cd lib; for file in core.sh error_handler.sh utils.sh lock.sh system.sh data_collector.sh ui.sh strategy.sh zram.sh kernel.sh swap.sh monitor.sh menu.sh performance_monitor.sh audit_log.sh; do wget -q "https://raw.githubusercontent.com/Big-flower-pig/Z-Panel-Pro/refs/heads/main/lib/${file}"; done; cd ..; sed -i 's/\r$//' Z-Panel.sh; chmod +x Z-Panel.sh; ./Z-Panel.sh
```

**æ•…éšœæ’é™¤**ï¼š

å¦‚æœé‡åˆ° "cannot execute: required file not found" é”™è¯¯ï¼Œè¯·å°è¯•ä»¥ä¸‹æ–¹æ³•ï¼š

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨ dos2unix è½¬æ¢æ¢è¡Œç¬¦
dos2unix Z-Panel.sh

# æ–¹æ³•2ï¼šä½¿ç”¨ sed è½¬æ¢æ¢è¡Œç¬¦
sed -i 's/\r$//' Z-Panel.sh

# æ–¹æ³•3ï¼šä½¿ç”¨ bash ç›´æ¥æ‰§è¡Œï¼ˆæ— éœ€ä¸‹è½½ï¼‰
curl -fsSL https://raw.githubusercontent.com/Big-flower-pig/Z-Panel-Pro/refs/heads/main/Z-Panel.sh | bash
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨å…¨å±€å‘½ä»¤ `z`ï¼ˆæ¨èï¼‰

```bash
# ä¸€é”®æ™ºèƒ½ä¼˜åŒ–ï¼ˆæ¨èé¦–æ¬¡ä½¿ç”¨ï¼‰
z --optimize

# å¯åŠ¨é¢æ¿
z

# å¯åŠ¨å®æ—¶ç›‘æ§é¢æ¿
z -m

# æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€
z -s

# æŸ¥çœ‹æ€§èƒ½æŠ¥å‘Š
z --performance

# æŸ¥çœ‹å®¡è®¡æ—¥å¿—
z --audit

# æŸ¥çœ‹è‡ªé€‚åº”ç­–ç•¥åˆ†æ
z --adaptive

# è®¾ç½®ç­–ç•¥æ¨¡å¼
z --strategy balance

# å¯ç”¨å¼€æœºè‡ªå¯
z -e
```

### ä½¿ç”¨å®Œæ•´è·¯å¾„

```bash
# å¦‚æœæ˜¯rootç”¨æˆ·ï¼Œç›´æ¥è¿è¡Œ
./Z-Panel.sh

# å¦‚æœä¸æ˜¯rootç”¨æˆ·ï¼Œä½¿ç”¨sudo
sudo ./Z-Panel.sh
```

**æ³¨æ„**: æ‰€æœ‰å‘½ä»¤éƒ½éœ€è¦rootæƒé™ã€‚å¦‚æœä¸æ˜¯rootç”¨æˆ·ï¼Œè¯·åœ¨å‘½ä»¤å‰æ·»åŠ `sudo`ã€‚

---

## ğŸ’» ä½¿ç”¨è¯´æ˜

### ä¸»èœå•åŠŸèƒ½

1. **ğŸš€ ä¸€é”®æ™ºèƒ½ä¼˜åŒ–** - è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿç¯å¢ƒï¼Œæ™ºèƒ½ä¼˜åŒ–æ‰€æœ‰å‚æ•°
2. **ğŸ“Š å®æ—¶ç›‘æ§** - æŸ¥çœ‹å†…å­˜ã€Swapã€ZRAM ä½¿ç”¨æƒ…å†µ
3. **ğŸ’¾ ZRAMç®¡ç†** - å¯ç”¨/åœç”¨ ZRAMï¼Œè°ƒæ•´å¤§å°å’Œå‹ç¼©ç®—æ³•
4. **ğŸ”„ Swapç®¡ç†** - åˆ›å»º/åˆ é™¤ç‰©ç† Swap æ–‡ä»¶
5. **âš™ï¸ å†…æ ¸å‚æ•°** - ä¼˜åŒ–è™šæ‹Ÿå†…å­˜ç›¸å…³å†…æ ¸å‚æ•°
6. **ğŸ¯ ä¼˜åŒ–ç­–ç•¥** - é€‰æ‹©ä¿å®ˆ/å¹³è¡¡/æ¿€è¿›æ¨¡å¼ï¼Œæˆ–ä½¿ç”¨è‡ªé€‚åº”ç­–ç•¥
7. **ğŸ“ˆ æ€§èƒ½æŠ¥å‘Š** - æŸ¥çœ‹æ€§èƒ½æŠ¥å‘Šã€åˆ†æç“¶é¢ˆã€æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡
8. **ğŸ”’ å®¡è®¡æ—¥å¿—** - æŸ¥çœ‹å®¡è®¡æ—¥å¿—ã€å®¡è®¡ç»Ÿè®¡ã€å¯¼å‡ºæ—¥å¿—
9. **â„¹ï¸ ç³»ç»Ÿä¿¡æ¯** - æŸ¥çœ‹è¯¦ç»†çš„ç³»ç»ŸçŠ¶æ€
10. **ğŸ”§ é«˜çº§è®¾ç½®** - é…ç½®åˆ·æ–°é—´éš”ã€æ—¥å¿—çº§åˆ«ã€å¼€æœºè‡ªå¯

### ä¸€é”®æ™ºèƒ½ä¼˜åŒ–

ä¸€é”®æ™ºèƒ½ä¼˜åŒ–ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š

1. **æ£€æµ‹ç³»ç»Ÿç¯å¢ƒ** - è‡ªåŠ¨è¯†åˆ«å®¹å™¨/VM/ç‰©ç†æœºç¯å¢ƒ
2. **é€‰æ‹©æœ€ä¼˜ç­–ç•¥** - åŸºäºç³»ç»Ÿç±»å‹å’Œå†…å­˜å¤§å°æ¨èç­–ç•¥
3. **æ•è·ä¼˜åŒ–å¿«ç…§** - ä¿å­˜ä¼˜åŒ–å‰çš„ç³»ç»ŸçŠ¶æ€ï¼ˆæ”¯æŒå›æ»šï¼‰
4. **åº”ç”¨ä¼˜åŒ–ç­–ç•¥** - è‡ªåŠ¨é…ç½® ZRAMã€Swapã€å†…æ ¸å‚æ•°
5. **éªŒè¯ä¼˜åŒ–æ•ˆæœ** - æ£€æŸ¥æ‰€æœ‰é…ç½®æ˜¯å¦ç”Ÿæ•ˆ
6. **ç”Ÿæˆä¼˜åŒ–æŠ¥å‘Š** - è¾“å‡ºè¯¦ç»†çš„ä¼˜åŒ–ç»“æœ

```bash
# å‘½ä»¤è¡Œä¸€é”®ä¼˜åŒ–
./Z-Panel.sh --optimize

# æˆ–ä½¿ç”¨å…¨å±€å‘½ä»¤
z --optimize
```

### æ€§èƒ½ç›‘æ§ç³»ç»Ÿ

æ€§èƒ½ç›‘æ§æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

- **å‡½æ•°æ‰§è¡Œæ—¶é—´è¿½è¸ª** - ç²¾ç¡®åˆ°æ¯«ç§’çš„æ€§èƒ½è®¡æ—¶
- **ç¼“å­˜å‘½ä¸­ç‡ç»Ÿè®¡** - å®æ—¶ç›‘æ§ç¼“å­˜æ•ˆç‡
- **ç³»ç»Ÿè°ƒç”¨è®¡æ•°** - è¿½è¸ªæ‰€æœ‰ç³»ç»Ÿè°ƒç”¨
- **æ€§èƒ½ç“¶é¢ˆåˆ†æ** - è‡ªåŠ¨è¯†åˆ«æ…¢å‡½æ•°ï¼ˆ>1000msï¼‰
- **JSONæ ¼å¼æŠ¥å‘Š** - å®Œæ•´çš„æ€§èƒ½æ•°æ®å¯¼å‡º

```bash
# æŸ¥çœ‹æ€§èƒ½æŠ¥å‘Š
./Z-Panel.sh --performance-report

# åˆ†ææ€§èƒ½ç“¶é¢ˆ
./Z-Panel.sh --analyze-performance

# æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡
./Z-Panel.sh --cache-stats
```

### å®¡è®¡æ—¥å¿—ç³»ç»Ÿ

å®¡è®¡æ—¥å¿—æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

- **13ç§å®¡è®¡äº‹ä»¶ç±»å‹** - è¦†ç›–æ‰€æœ‰å…³é”®æ“ä½œ
- **å®Œæ•´æ“ä½œè¿½è¸ª** - ç”¨æˆ·ã€æ—¶é—´æˆ³ã€PIDã€ä¸»æœºå
- **æ—¥å¿—è½®è½¬** - è‡ªåŠ¨å½’æ¡£ï¼Œæ”¯æŒå¤§å°é™åˆ¶
- **å¤šæ ¼å¼å¯¼å‡º** - JSONã€CSVã€Textä¸‰ç§æ ¼å¼
- **å®¡è®¡ç»Ÿè®¡** - äº‹ä»¶è®¡æ•°å’Œåˆ†ç±»ç»Ÿè®¡

```bash
# æŸ¥çœ‹å®¡è®¡æ—¥å¿—
./Z-Panel.sh --audit-log

# æŸ¥çœ‹å®¡è®¡ç»Ÿè®¡
./Z-Panel.sh --audit-stats

# å¯¼å‡ºå®¡è®¡æ—¥å¿—
./Z-Panel.sh --export-audit

# æ¸…ç†è¿‡æœŸæ—¥å¿—
./Z-Panel.sh --cleanup-audit
```

### è‡ªé€‚åº”ç­–ç•¥å¼•æ“

è‡ªé€‚åº”ç­–ç•¥åˆ†æä»¥ä¸‹ç»´åº¦ï¼š

- **å†…å­˜å‹åŠ›** (æƒé‡: 40%) - å†…å­˜ä½¿ç”¨ç‡åˆ†æ
- **ZRAMä½¿ç”¨ç‡** (æƒé‡: 25%) - ZRAM å‹ç¼©è®¾å¤‡ä½¿ç”¨æƒ…å†µ
- **Swapä½¿ç”¨ç‡** (æƒé‡: 20%) - ç‰©ç†Swapä½¿ç”¨æƒ…å†µ
- **ç³»ç»Ÿè´Ÿè½½** (æƒé‡: 15%) - CPUè´Ÿè½½åˆ†æ

```bash
# æŸ¥çœ‹è‡ªé€‚åº”ç­–ç•¥åˆ†æ
./Z-Panel.sh --adaptive-strategy

# åº”ç”¨è‡ªé€‚åº”ç­–ç•¥
./Z-Panel.sh --apply-adaptive
```

### ç­–ç•¥æ¨¡å¼

#### ä¿å®ˆæ¨¡å¼ (Conservative)

é€‚ç”¨äºæœåŠ¡å™¨ç¯å¢ƒï¼Œä¼˜å…ˆä¿è¯ç¨³å®šæ€§ï¼š

| å‚æ•°        | å€¼            |
| ----------- | ------------- |
| ZRAM å¤§å°   | æ€»å†…å­˜çš„ 80%  |
| Swap å¤§å°   | æ€»å†…å­˜çš„ 100% |
| Swappiness  | 60            |
| Dirty Ratio | 5             |
| Min Free    | 64MB          |

#### å¹³è¡¡æ¨¡å¼ (Balance)

é»˜è®¤æ¨¡å¼ï¼Œæ€§èƒ½ä¸ç¨³å®šæ€§å¹³è¡¡ï¼š

| å‚æ•°        | å€¼            |
| ----------- | ------------- |
| ZRAM å¤§å°   | æ€»å†…å­˜çš„ 120% |
| Swap å¤§å°   | æ€»å†…å­˜çš„ 150% |
| Swappiness  | 85            |
| Dirty Ratio | 10            |
| Min Free    | 32MB          |

#### æ¿€è¿›æ¨¡å¼ (Aggressive)

é€‚ç”¨äºé«˜æ€§èƒ½æ¡Œé¢ç¯å¢ƒï¼Œè¿½æ±‚æœ€å¤§æ€§èƒ½ï¼š

| å‚æ•°        | å€¼            |
| ----------- | ------------- |
| ZRAM å¤§å°   | æ€»å†…å­˜çš„ 180% |
| Swap å¤§å°   | æ€»å†…å­˜çš„ 200% |
| Swappiness  | 100           |
| Dirty Ratio | 15            |
| Min Free    | 16MB          |

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
Z-Panel-Pro/
â”œâ”€â”€ Z-Panel.sh                 # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ install.sh                 # ä¸€é”®å®‰è£…è„šæœ¬
â”œâ”€â”€ README.md                  # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ CODE_QUALITY_ANALYSIS_V10.md # ä»£ç è´¨é‡åˆ†ææŠ¥å‘Š
â”œâ”€â”€ lib/                      # æ ¸å¿ƒåº“ç›®å½•
â”‚   â”œâ”€â”€ core.sh               # æ ¸å¿ƒé…ç½®å’Œå¸¸é‡
â”‚   â”œâ”€â”€ error_handler.sh      # é”™è¯¯å¤„ç†å’Œæ—¥å¿—
â”‚   â”œâ”€â”€ utils.sh              # å·¥å…·å‡½æ•°åº“
â”‚   â”œâ”€â”€ lock.sh               # æ–‡ä»¶é”æœºåˆ¶
â”‚   â”œâ”€â”€ system.sh             # ç³»ç»Ÿæ£€æµ‹
â”‚   â”œâ”€â”€ data_collector.sh      # æ•°æ®é‡‡é›†å’Œç¼“å­˜ç»Ÿè®¡
â”‚   â”œâ”€â”€ ui.sh                 # UIæ¸²æŸ“å¼•æ“
â”‚   â”œâ”€â”€ strategy.sh           # ç­–ç•¥ç®¡ç†å’Œè‡ªé€‚åº”å¼•æ“
â”‚   â”œâ”€â”€ zram.sh               # ZRAMç®¡ç†
â”‚   â”œâ”€â”€ kernel.sh             # å†…æ ¸å‚æ•°
â”‚   â”œâ”€â”€ swap.sh               # Swapç®¡ç†
â”‚   â”œâ”€â”€ monitor.sh            # ç›‘æ§é¢æ¿
â”‚   â”œâ”€â”€ menu.sh               # èœå•ç³»ç»Ÿ
â”‚   â”œâ”€â”€ performance_monitor.sh # æ€§èƒ½ç›‘æ§ç³»ç»Ÿ ğŸ†•
â”‚   â””â”€â”€ audit_log.sh          # å®¡è®¡æ—¥å¿—ç³»ç»Ÿ ğŸ†•
â””â”€â”€ etc/
    â””â”€â”€ zpanel/
        â””â”€â”€ lightweight.conf   # è½»é‡çº§é…ç½®æ–‡ä»¶
```

---

## ğŸ“ é…ç½®æ–‡ä»¶

### è½»é‡çº§é…ç½® (`etc/zpanel/lightweight.conf`)

```bash
# Z-Panel Pro è½»é‡çº§é…ç½®æ–‡ä»¶
# ç‰ˆæœ¬: 9.0.0-Lightweight

# ZRAM é…ç½®
zram_enabled=true
zram_size="2048"
compression_algorithm="lzo"

# Swap é…ç½®
swap_enabled=true
swap_size="4096"
swap_file_path="/var/lib/zpanel/swapfile"

# å†…æ ¸å‚æ•°
swappiness=20
vfs_cache_pressure=50
dirty_ratio=10
dirty_background_ratio=5

# æ—¥å¿—é…ç½®
log_level="info"
log_file="/var/log/zpanel/zpanel.log"
log_max_size="10M"
log_max_files=5

# TUI é…ç½®
tui_enabled=true
tui_refresh_interval=1

# æ€§èƒ½ç›‘æ§é…ç½®
performance_monitoring=true
cache_stats_enabled=true

# å®¡è®¡æ—¥å¿—é…ç½®
audit_enabled=true
audit_log_file="/var/log/zpanel/audit.log"
audit_log_max_size_mb=10
audit_log_retention_days=30

# ç³»ç»Ÿé…ç½®
auto_optimize=false
optimize_interval=3600
```

---

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

1. **è¾“å…¥éªŒè¯** - æ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½ç»è¿‡ä¸¥æ ¼éªŒè¯
2. **æ–‡ä»¶æƒé™** - é…ç½®æ–‡ä»¶æƒé™ 640ï¼Œç›®å½•æƒé™ 750
3. **æ–‡ä»¶é”** - é˜²æ­¢å¹¶å‘æ‰§è¡Œå¯¼è‡´çš„æ•°æ®æŸå
4. **å®‰å…¨æ—¥å¿—** - è®°å½•æ‰€æœ‰å…³é”®æ“ä½œ
5. **å®¡è®¡è¿½è¸ª** - å®Œæ•´çš„æ“ä½œå®¡è®¡å’Œè¿½è¸ª
6. **OWASPåˆè§„** - å®Œå…¨ç¬¦åˆOWASPå®‰å…¨æ ‡å‡†
7. **CWE/SANS** - ç¬¦åˆCWE/SANS Top 25æ ‡å‡†

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- **ZRAM å‹ç¼©** - ä½¿ç”¨ lzo/lz4/zstd ç®—æ³•å‹ç¼©å†…å­˜
- **æ™ºèƒ½ Swap** - æ ¹æ®ç­–ç•¥è‡ªåŠ¨è°ƒæ•´ Swap å¤§å°
- **å†…æ ¸ä¼˜åŒ–** - ä¼˜åŒ– vm.swappinessã€vm.vfs_cache_pressure ç­‰å‚æ•°
- **å®æ—¶ç›‘æ§** - ä½å¼€é”€çš„ç³»ç»ŸçŠ¶æ€ç›‘æ§
- **ç¼“å­˜æœºåˆ¶** - TTLç¼“å­˜å‡å°‘ç³»ç»Ÿè°ƒç”¨
- **æ€§èƒ½è¿½è¸ª** - å‡½æ•°æ‰§è¡Œæ—¶é—´è¿½è¸ªå’Œç“¶é¢ˆåˆ†æ

---

## ğŸ† ä»£ç è´¨é‡

Z-Panel Pro

| è¯„ä¼°ç»´åº¦   | å¾—åˆ†     | æƒé‡     | åŠ æƒå¾—åˆ†  |
| ---------- | -------- | -------- | --------- |
| æ¶æ„è®¾è®¡   | 10.0     | 20%      | 2.00      |
| ä»£ç è´¨é‡   | 10.0     | 25%      | 2.50      |
| å®‰å…¨æ€§     | 10.0     | 20%      | 2.00      |
| å¯ç»´æŠ¤æ€§   | 10.0     | 15%      | 1.50      |
| æ€§èƒ½ä¼˜åŒ–   | 10.0     | 10%      | 1.00      |
| æ–‡æ¡£å®Œæ•´æ€§ | 10.0     | 10%      | 1.00      |
| **æ€»åˆ†**   | **10.0** | **100%** | **10.00** |

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª ShellCheck è§„èŒƒ
- ä¿æŒä»£ç ç®€æ´
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- éµå¾ª Google Shell Style Guide

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ™ è‡´è°¢

- ZRAM é¡¹ç›®å¼€å‘è€…
- Linux å†…æ ¸ç¤¾åŒº
- æ‰€æœ‰è´¡çŒ®è€…

---

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/Big-flower-pig/Z-Panel-Pro
- **é—®é¢˜åé¦ˆ**: https://github.com/Big-flower-pig/Z-Panel-Pro/issues

---

<div align="center">

**å¦‚æœè§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸**

Made with â¤ï¸ by Z-Panel Team

</div>
